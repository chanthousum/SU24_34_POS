{% extends 'index.html' %}
{% load static %}
{% block content %}

    <section class="content">

        <div class="row">
            <div class="box box-primary">
                <div class="box-header ui-sortable-handle" style="cursor: move;">
                    <h3 class="box-title"><a href="/product/show"><span class="glyphicon glyphicon-plus"></span>Add
                        Product</a>
                            {% if messages %}
                            	{% for message in messages  %}
                            		{% if message %}
                            			<span style="color:red;font-size:16px;">{{ message }}</span>
                            		{% endif %}
                            	{% endfor %}

                            {% endif %}

                    </h3>

                </div><!-- /.box-header -->
                <div class="box-body">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Id</th>
                            <th>Product Name</th>
                             <th>Barcode</th>
                             <th>Sell Price</th>
                             <th>Unit InStock</th>
                            <th>Photo</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for item in products %}
                            <tr>
                                <td>{{ item.id }}</td>
                                <td>{{ item.product_name }}</td>
                                <td>{{ item.barcode }}</td>
                                <td>{{ item.sell_price }}</td>
                                <td>{{ item.unit_in_stock }}</td>
                                <td>
                                    {% if item.photo != "" %}
                                    	<img src="/media/{{ item.photo }}" width="50">
                                        {% else %}
                                        <p>no image</p>
                                    {% endif %}

                                </td>
                                <td>
                                    <a href="/product/edit_by_id/{{ item.id }}" class="btn btn-primary"><span class="glyphicon glyphicon-pencil"></span> Edit</a>
                                    <a class="btn btn-success"><span class="glyphicon glyphicon-eye-open"></span>
                                        View</a>
                                    <a href="/product/delete_by_id/{{ item.id }}" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                                </td>
                            </tr>
                        {% endfor %}

                        </tbody>
                    </table>
                    <div>
                        <p>Item Count: {{ count_item }}</p>
                        <p>Page {{ categories.number }} of {{ categories.paginator.num_pages }}</p>
                    </div>
                    <ul class="pagination">
                        {% if categories.has_previous %}
                            <li><a href="?page=1" style="color:white;background-color:green">&laquo; first</a></li>
                            <li><a href="?page={{ categories.previous_page_number }}"
                                   style="color:white;background-color:mediumblue">previous</a>
                            </li>
                        {% else %}
                            <li><a style="color:white;background-color:mediumblue">previous</a></li>
                        {% endif %}

                        {% for i in  categories.paginator.page_range %}
                            {% if categories.number == i %}
                                <li><a href="#" style="color:white;background-color: blue;">{{ i }}</a></li>
                            {% else %}
                                <li><a href="?page={{ i }}" style="color:black;">{{ i }}</a></li>
                            {% endif %}
                        {% endfor %}

                        {% if categories.has_next %}
                            <li><a href="?page={{ categories.next_page_number }}"
                                   style="color:white;background-color:green">next</a></li>
                            <li><a href="?page={{ categories.paginator.num_pages }}"
                                   style="color:white;background-color:mediumblue">last &raquo;</a>
                            </li>
                        {% endif %}
                    </ul>

                </div><!-- /.box-body -->
                <div class="box-footer clearfix no-border">

                </div>
            </div>
        </div><!-- /.row (main row) -->

    </section>

{% endblock %}